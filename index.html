<!DOCTYPE html>
<!-- saved from url=(0039)https://koenromers.com/cocoen/demo.html -->
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Naucna studija: HDR</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/css/cocoen.min.css">
	<style>
		body {
			font-family: sans-serif;
			font-size: 16px;
			margin: 2rem;
			text-align: center;
			background: rgb(96, 102, 105) !important;
		}

		.hdr-image {
			max-width: 2145px !important;
			max-height: 1450px !important;
		}

		.container {
			position: relative;
			margin: auto;
			max-width: 2145px !important;
			/* velicina odabrana zbog velicina slika u dataset-u, promijeniti u skladu sa buduce koristenim datasetom */
			text-align: center;
		}
	</style>
</head>

<body>

	<nav class="navbar sticky-top navbar-light bg-light">
		<a class="navbar-brand" href="#">
			<img src="/img/etfbl.png" width="60" height="60" class="d-inline-block align-top" alt="">
		</a>
		<p style="font-size: 36px;">Inverzno tonsko mapiranje slika</p>
		<span class="navbar-text" style="text-align: left">
			<p class="mb-1">Kandidat: Debeljak Savo</p>
			<p class="mb-1">Mentor: Vladimir Risojević</p>
			<p class="mb-1">Član komisije: Vladan Stojnić</p>
		</span>
	</nav>

	<h1 style="text-align: center" class="m-5">Korištene slike - LDR format</h1>

	<div id="carousel" class="carousel slide container" data-ride="carousel">
		<ol class="carousel-indicators" id="carousel-indicators-ldr">

		</ol>
		<div class="carousel-inner" id="carousel-inner">

		</div>
		<a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		</a>
		<a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>

	<form method="POST" action="/data">
		<div class="container" id="hdr-images-container">
			<h1 class="m-5">Slike</h1>

		</div>
	</form>

	<br>
	<br><br><br>

</body>

<footer>
	<!-- <script src="/js/cocoen.min.js"></script> -->
	<script src="/js/custom/cocoen.canvas.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.js"
		integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
	<script src="/js/hdrpng.min.js"></script>
	<script>
		$(document).ready(() => {
			jQuery.get({
				url: '/images',
				success: (result) => {
					const ldrImages = result.filter(image => image.split("\.")[1].includes("jpg")); // ldr
					let ldrIndicatorContainer = $("#carousel-indicators-ldr");
					let innerCarousel = $("#carousel-inner");

					ldrImages.forEach((ldrImage, index) => {
						let listItem = document.createElement("li");
						$(listItem).attr("data-target", "#carousel");
						$(listItem).attr("data-slide-to", index);
						if (index == 0) $(listItem).addClass("active");
						ldrIndicatorContainer.append(listItem);

						let carouselItem = document.createElement("div");
						$(carouselItem).addClass("carousel-item");
						if (index == 0) $(carouselItem).addClass("active");
						let image = document.createElement("img");
						$(image).addClass("d-block w-100");
						$(image).attr("src", ldrImage);
						$(image).attr("alt", ldrImage);
						$(carouselItem).append(image);
						let captionItem = document.createElement("div");
						$(captionItem).addClass("carousel-caption d-none d-md-block");
						let h4Item = document.createElement("h4");
						$(h4Item).html(ldrImage.split("/")[2].split("\.")[0].toUpperCase().split("_").join(" "));
						let h5Item = document.createElement("h5");
						$(h5Item).html(`Format: ${ldrImage.split("/")[2].split("\.")[1].toUpperCase()}`);
						$(captionItem).append(h4Item);
						$(captionItem).append(h5Item);
						$(carouselItem).append(captionItem);
						innerCarousel.append(carouselItem);
					});

					const hdrImages = result.filter(image => image.split("\.")[1].includes("hdr")).slice(0, 4); // ogranici na prvih 8 radi testiranja zasad
					let hdrContainer = $("#hdr-images-container");
					hdrImages.forEach((hdrImage, index) => {
						let el = document.createElement("h1");
						let id = hdrImage.split("\.")[0].split("_")[0].split("/")[2];
						if (index % 2 == 0) {
							el.innerHTML = `1: ${id} v 2: ${id + '_CC'}`;
						}
						$(hdrContainer).append(el);

						// zasad napravljeno da prikazuje par onih par slika iz druge baze, kad dobijem svoje slike promijeniti u skladu
						// sa nazivima slika

						if (index % 2 == 0) {
							let container = document.createElement("div");
							$(container).addClass("cocoen m-5");
							$(container).attr("id", `container-${id}`);
							let outerDiv = document.createElement("div");
							let firstCanvasDiv = document.createElement("div");
							$(firstCanvasDiv).attr("id", `first-canvas-${id}`);
							$(outerDiv).append(firstCanvasDiv);
							$(container).append(outerDiv);
							let myFirstHDR = new HDRImage();
							myFirstHDR.src = hdrImage;
							$(firstCanvasDiv).append(myFirstHDR);
							let mySecondHDR = new HDRImage();
							mySecondHDR.src = hdrImage.replace(id, id + "_CC");
							mySecondHDR.id = `second-canvas-${id}`;
							$(mySecondHDR).addClass("hdr-image");
							$(container).append(mySecondHDR);
							$(hdrContainer).append(container);
							new Cocoen($(firstCanvasDiv).attr("id"), $(container).attr("id"));

							$(hdrContainer).append(getRadioOptions(id));
							$(hdrContainer).append(getRadioOptions(id + "_CC"));
							let hrElement = document.createElement("hr");
							$(hrElement).css("color", "white");
							$(hdrContainer).append(hrElement);
						}

					});

					let buttonSubmitElement = document.createElement("button");
					$(buttonSubmitElement).attr("type", "submit");
					$(buttonSubmitElement).addClass("btn btn-primary");
					$(buttonSubmitElement).html("<h2>Potvrdi odgovore</h2>");
					$(hdrContainer).append(buttonSubmitElement);

				},
				error: (result) => {
					console.error(result);
				}
			});

			const getRadioOptions = (id) => {
				let radioContainer = document.createElement("div");
				$(radioContainer).addClass("form-check form-check-inline ml-5");
				let inputElementFirst = document.createElement("input");
				$(inputElementFirst).addClass("form-check-input");
				$(inputElementFirst).attr("type", "radio");
				$(inputElementFirst).attr("id", `inline-radio-${id}`);
				$(inputElementFirst).attr("value", id);
				$(inputElementFirst).attr("name", `radio-name-${id.split("_")[0]}`); // opet, imena i slicno prilagoditi datim slikama, eventualno dati samo lijevo desno opciju
				// to bi vjerovatno bilo najbolje, najmanji bias ispitanika
				$(radioContainer).append(inputElementFirst);
				let labelElementFirst = document.createElement("h2");
				$(labelElementFirst).addClass("form-check-label");
				$(labelElementFirst).attr("for", `inline-radio-${id}`);
				$(labelElementFirst).html(id);
				$(radioContainer).append(labelElementFirst);
				return radioContainer;
			};

		});

	</script>
</footer>

</html>